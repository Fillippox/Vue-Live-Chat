{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { projectFireStore } from '../firebase/config';\nconst getCollection = collection => {\n  const documents = ref(null);\n  const error = ref(null);\n  let collectionRef = projectFirestore.collection(collection).orderBy('createdAt');\n  collectionRef.onSnapshot(snap => {\n    let results = [];\n    snap.docs.forEach(doc => {\n      doc.data().createdAt && results.push({\n        ...doc.data(),\n        id: doc.id\n      });\n      results.push({\n        ...doc.data(),\n        id: doc.id\n      });\n    });\n    documents.value = results;\n    error.value = null;\n  }, err => {\n    console.log(err.message);\n    documents.value = null;\n    error.value = \"Could not fetch data\";\n  });\n  return {\n    documents,\n    error\n  };\n};\nexport default getCollection;","map":{"version":3,"names":["ref","projectFireStore","getCollection","collection","documents","error","collectionRef","projectFirestore","orderBy","onSnapshot","snap","results","docs","forEach","doc","data","createdAt","push","id","value","err","console","log","message"],"sources":["C:/Users/JW/Desktop/VUE_JS/class10/live-chat-1/src/composables/getCollection.js"],"sourcesContent":["import {ref} from 'vue'\r\nimport {projectFireStore} from '../firebase/config'\r\n\r\nconst getCollection = (collection) => {\r\n    const documents = ref(null)\r\n    const error = ref(null)\r\n\r\n    let collectionRef = projectFirestore.collection(collection)\r\n    .orderBy('createdAt')\r\n\r\n    collectionRef.onSnapshot((snap) => {\r\n        let results = []\r\n        snap.docs.forEach(doc => {\r\n            doc.data().createdAt && results.push({...doc.data(), id: doc.id})\r\n            results.push({...doc.data(), id: doc.id})\r\n            })\r\n            documents.value = results\r\n            error.value = null\r\n        }, (err) => {\r\n            console.log(err.message)\r\n            documents.value = null\r\n            error.value = \"Could not fetch data\" \r\n        })\r\n\r\n        return { documents, error}\r\n}\r\n\r\nexport default getCollection"],"mappings":";AAAA,SAAQA,GAAG,QAAO,KAAK;AACvB,SAAQC,gBAAgB,QAAO,oBAAoB;AAEnD,MAAMC,aAAa,GAAIC,UAAU,IAAK;EAClC,MAAMC,SAAS,GAAGJ,GAAG,CAAC,IAAI,CAAC;EAC3B,MAAMK,KAAK,GAAGL,GAAG,CAAC,IAAI,CAAC;EAEvB,IAAIM,aAAa,GAAGC,gBAAgB,CAACJ,UAAU,CAACA,UAAU,CAAC,CAC1DK,OAAO,CAAC,WAAW,CAAC;EAErBF,aAAa,CAACG,UAAU,CAAEC,IAAI,IAAK;IAC/B,IAAIC,OAAO,GAAG,EAAE;IAChBD,IAAI,CAACE,IAAI,CAACC,OAAO,CAACC,GAAG,IAAI;MACrBA,GAAG,CAACC,IAAI,EAAE,CAACC,SAAS,IAAIL,OAAO,CAACM,IAAI,CAAC;QAAC,GAAGH,GAAG,CAACC,IAAI,EAAE;QAAEG,EAAE,EAAEJ,GAAG,CAACI;MAAE,CAAC,CAAC;MACjEP,OAAO,CAACM,IAAI,CAAC;QAAC,GAAGH,GAAG,CAACC,IAAI,EAAE;QAAEG,EAAE,EAAEJ,GAAG,CAACI;MAAE,CAAC,CAAC;IACzC,CAAC,CAAC;IACFd,SAAS,CAACe,KAAK,GAAGR,OAAO;IACzBN,KAAK,CAACc,KAAK,GAAG,IAAI;EACtB,CAAC,EAAGC,GAAG,IAAK;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;IACxBnB,SAAS,CAACe,KAAK,GAAG,IAAI;IACtBd,KAAK,CAACc,KAAK,GAAG,sBAAsB;EACxC,CAAC,CAAC;EAEF,OAAO;IAAEf,SAAS;IAAEC;EAAK,CAAC;AAClC,CAAC;AAED,eAAeH,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}