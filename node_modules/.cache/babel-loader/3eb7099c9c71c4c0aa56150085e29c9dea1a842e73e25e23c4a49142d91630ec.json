{"ast":null,"code":"import getCollection from '../composables/getCollection';\nimport { formatDistanceToNow } from 'date-fns';\nimport { computed } from 'vue';\nexport default {\n  setup() {\n    const {\n      error,\n      documents\n    } = getCollection('messages');\n    const formattedDocuments = computed(() => {\n      if (documents.value) {\n        return documents.value.map(doc => {\n          let time = formatDistanceToNow(doc.createdAt.toDate());\n          return {\n            ...doc,\n            createdAt: time\n          };\n        });\n      }\n    });\n    const messages = ref(null);\n    onUpdated(() => {\n      messages.value.scrollHeight;\n    });\n    return {\n      error,\n      documents,\n      formattedDocuments\n    };\n  }\n};","map":{"version":3,"mappings":"AAcI,OAAOA,aAAY,MAAO,8BAA6B;AACvD,SAASC,mBAAkB,QAAU,UAAS;AAC9C,SAAQC,QAAQ,QAAO,KAAI;AAC3B,eAAe;EACXC,KAAK,GAAE;IACH,MAAM;MAACC,KAAK;MAAEC;IAAS,IAAIL,aAAa,CAAC,UAAU;IACnD,MAAMM,kBAAiB,GAAIJ,QAAQ,CAAE,MAAM;MACvC,IAAIG,SAAS,CAACE,KAAK,EAAC;QAChB,OAAOF,SAAS,CAACE,KAAK,CAACC,GAAG,CAACC,GAAE,IAAK;UAC9B,IAAIC,IAAG,GAAIT,mBAAmB,CAACQ,GAAG,CAACE,SAAS,CAACC,MAAM,EAAE;UACrD,OAAO;YAAC,GAAGH,GAAG;YAAEE,SAAS,EAAED;UAAI;QACnC,CAAC;MACL;IACJ,CAAC;IAED,MAAMG,QAAO,GAAIC,GAAG,CAAC,IAAI;IACzBC,SAAS,CAAE,MAAM;MAACF,QAAQ,CAACN,KAAK,CAACS,YAAY;IAAA,CAAC;IAC9C,OAAO;MAACZ,KAAK;MAAEC,SAAS;MAAEC;IAAkB;EAChD;AACJ","names":["getCollection","formatDistanceToNow","computed","setup","error","documents","formattedDocuments","value","map","doc","time","createdAt","toDate","messages","ref","onUpdated","scrollHeight"],"sourceRoot":"","sources":["C:\\Users\\JW\\Desktop\\VUE_JS\\class10\\live-chat-2\\src\\components\\ChatWindow.vue"],"sourcesContent":["<template>\r\n    <div class=\"class chat-window\">\r\n        <div v-if=\"error\"> {{ error }}</div>\r\n        <div v-if=\"documents\" class=\"messages\" ref=\"messages\">\r\n            <div v-for=\"doc in formattedDocuments\" :key=\"doc.id\" class=\"single\">\r\n                <span class=\"created-at\"> {{ doc.createdAt }}</span>\r\n                <span class=\"name\">{{ doc.name }}</span>\r\n                <span class=\"message\">{{ doc.message }}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import getCollection from '../composables/getCollection'\r\n    import { formatDistanceToNow }  from 'date-fns'\r\n    import {computed} from 'vue'\r\n    export default {\r\n        setup(){\r\n            const {error, documents} = getCollection('messages')\r\n            const formattedDocuments = computed( () => {\r\n                if (documents.value){\r\n                    return documents.value.map(doc => {\r\n                        let time = formatDistanceToNow(doc.createdAt.toDate())\r\n                        return {...doc, createdAt: time}\r\n                    })\r\n                }\r\n            })\r\n\r\n            const messages = ref(null)\r\n            onUpdated( () => {messages.value.scrollHeight})\r\n            return {error, documents, formattedDocuments}\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}